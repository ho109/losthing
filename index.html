<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>분실물 관리 시스템</title>
  <link rel="stylesheet" href="style.css"/>
  <style>
    .screen { display: none; }
    .screen.active { display: block; }
    .hidden { display: none !important; }
    .visually-hidden { position:absolute; left:-9999px; width:1px; height:1px; overflow:hidden; }
  </style>
</head>
<body>
  <div class="app">
    <!-- ① 로그인 -->
    <section id="screen-1" class="screen active">
      <div class="login-page">
        <header class="login-header">
          <!-- <img src="YOUR_LOGO.png" alt="학교 로고" class="login-logo"> -->
          <h1 class="login-title">분실물 관리</h1>
        </header>

        <div class="login-form">
          <input id="admin-id" class="login-input" type="text" placeholder="아이디를 입력해주세요" autocomplete="username">
          <input id="admin-pw" class="login-input" type="password" placeholder="비밀번호를 입력해주세요" autocomplete="current-password">
          <button id="btn-admin-submit" class="login-btn">로그인</button>
          <button id="btn-guest-enter" class="login-btn secondary">로그인 없이 입장</button>
        </div>
      </div>
    </section>

    <!-- ② 리스트 -->
    <section id="screen-2" class="screen">
      <header class="topbar">
        <h2>분실물 관리 시스템</h2>
      </header>

      <div class="searchbar">
        <input id="search-input" type="text" placeholder="검색어를 입력해주세요">
        <button class="search-btn">검색</button>
      </div>

      <nav class="tabs">
        <button id="tab-0" class="tab active">전체</button>
        <button id="tab-1" class="tab">1층</button>
        <button id="tab-2" class="tab">2층</button>
        <button id="tab-3" class="tab">3층</button>
        <button id="tab-4" class="tab">4층</button>
      </nav>

      <main class="container">
        <h3 id="floor-title" class="visually-hidden">전체 분실물</h3>
        <ul id="lost-items" class="card-grid"></ul>
      </main>

      <!-- 관리자일 때만 노출 (JS에서 토글) -->
      <button id="fab-manage" class="fab hidden" aria-label="쓰기">✎</button>
    </section>

    <!-- ③ 글쓰기 -->
    <section id="screen-3" class="screen">
      <header class="subbar">
        <button id="btn-back-2" class="icon-btn" aria-label="뒤로">←</button>
        <h2>글쓰기</h2>
      </header>

      <div class="form-wrap">
        <label class="field">
          <span class="field-label">제목</span>
          <input id="form-title" type="text" placeholder="제목을 입력하세요">
        </label>

        <label class="field">
          <span class="field-label">보관 위치(층)</span>
          <select id="form-floor">
            <option value="" disabled selected>몇 층에 있는지 선택해주세요</option>
            <option value="1">1층</option>
            <option value="2">2층</option>
            <option value="3">3층</option>
            <option value="4">4층</option>
          </select>
        </label>

        <label class="field">
          <span class="field-label">내용</span>
          <textarea id="form-desc" rows="6" placeholder="내용을 입력해주세요"></textarea>
        </label>

        <div class="field">
          <span class="field-label">사진</span>
          <div class="upload-row">
            <input id="form-image" type="file" accept="image/*">
            <img id="form-preview" class="preview hidden" alt="미리보기">
          </div>
        </div>

        <button id="btn-submit" class="primary-btn">글 등록하기</button>
      </div>
    </section>

    <!-- ④ 상세보기 -->
    <section id="screen-4" class="screen">
      <header class="subbar">
        <button id="btn-back-detail" class="icon-btn" aria-label="뒤로">←</button>
        <h2>상세</h2>
        <button id="btn-delete" class="icon-btn danger hidden" aria-label="삭제">삭제</button>
      </header>

      <article class="detail">
        <h3 id="detail-title" class="detail-title">제목</h3>
        <div id="detail-floor" class="detail-floor">보관 위치 : 1층</div>
        <img id="detail-image" class="detail-img hidden" alt="이미지">
        <p id="detail-desc" class="detail-desc">내용</p>
      </article>

      <div class="detail-actions">
        <button id="btn-edit" class="primary-btn hidden">수정하기</button>
      </div>
    </section>
  </div>

  <!-- (선택) 이미지 팝업: 현재 스크립트에 동작 없음 -->
  <div id="image-popup" class="image-popup hidden">
    <img id="popup-img" src="" alt="">
    <span class="image-close">&times;</span>
  </div>

  <!-- ✅ Firebase 스크립트 제거, ES Modules로 교체 -->
  <script type="module" src="api.js"></script>
  <script type="module" src="app.js"></script>
</body>
</html>